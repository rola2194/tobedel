{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,C,E,C,E,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,G,C,C,E,C,O,C,C,E,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,E,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,O,C,K,E,E,S,C,K,E,E,S,C,K,E,E,C,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,I,E,E,E,A,C,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,E,O,W,O,C,E,C,E,C,M,C,S,C,C,C,C,C,C,C,MCkBI,EAVJ,IAAA,EAAA,EAAA,uBAPA,IAAM,EAAQ,SAAS,aAAa,CAAC,UAC/B,EAAM,SAAS,aAAa,CAAC,WAC7B,EAAK,SAAS,aAAa,CAAC,MACtB,SAAS,aAAa,CAAC,OACjB,SAAS,aAAa,CAAC,WAgBzC,AAfkB,SAAS,aAAa,CAAC,WAe/B,gBAAgB,CAAC,QAAS,UAClC,GAAI,CACF,MAAM,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,EAAA,IAAG,EACjB,QAAQ,GAAG,CAAC,+BACd,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,qBAAsB,EACtC,CACF,GAEA,AAAA,CAAA,EAAA,EAAA,kBAAkB,AAAlB,EAAmB,EAAA,IAAG,CAAG,AAAC,QASD,EARnB,GACF,QAAQ,GAAG,CAAC,qBAAsB,EAAK,GAAG,EAOrB,EANL,EAAK,GAAG,CAO1B,EAAS,AAAA,CAAA,EAAA,EAAA,GAAG,AAAH,EAAI,EAAA,QAAO,CAAG,CAAC,KAAK,EAAE,EAAA,CAAK,EACpC,QAAQ,GAAG,CAAC,qBAAsB,GAClC,AAAA,CAAA,EAAA,EAAA,OAAM,AAAN,EAAQ,EAAQ,AAAC,IAEf,GADA,EAAG,SAAS,CAAG,GACX,EAAK,GAAG,GAAI,CACd,IAAM,EAAM,OAAO,OAAO,CAAC,EAAK,GAAG,IAEnC,IAAK,GAAI,CAAC,EAAK,EAAM,GADrB,QAAQ,GAAG,CAAC,GACa,IACvB,AAgBR,SAAsB,CAAU,CAAE,CAAG,EACnC,IAAM,EAAK,SAAS,aAAa,CAAC,KAClC,CAAA,EAAG,SAAS,CAAG,EACf,EAAG,gBAAgB,CAAC,QAAS,KAC3B,IAAI,EAAW,AAAA,CAAA,EAAA,EAAA,GAAG,AAAH,EAAI,EAAA,QAAO,CAAG,CAAC,KAAK,EAAE,AAAA,EAAA,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,EAAA,CAAK,EAClE,AAAA,CAAA,EAAA,EAAA,MAAM,AAAN,EAAO,EACT,GACA,EAAG,WAAW,CAAC,EACjB,EAxBqB,EAAO,EAExB,CACF,IAhBE,QAAQ,GAAG,CAAC,wBAEhB,GAyBA,EAAI,gBAAgB,CAAC,QATrB,WACE,IAAM,EAAa,EAAM,KAAK,CAG9B,AAAA,CAAA,EAAA,EAAA,IAAI,AAAJ,EAAK,EAAQ,GAEb,EAAM,KAAK,CAAG,EAChB,E,E,C,sB,O,E,E,C,Q,C,Q,oB,C","sources":["<anon>","logic.js"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (\n  modules,\n  entry,\n  mainEntry,\n  parcelRequireName,\n  externals,\n  distDir,\n  publicUrl,\n  devServer\n) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var importMap = previousRequire.i || {};\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        if (externals[name]) {\n          return externals[name];\n        }\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        globalObject\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.require = nodeRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.distDir = distDir;\n  newRequire.publicUrl = publicUrl;\n  newRequire.devServer = devServer;\n  newRequire.i = importMap;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  // Only insert newRequire.load when it is actually used.\n  // The code in this file is linted against ES5, so dynamic import is not allowed.\n  // INSERT_LOAD_HERE\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n    }\n  }\n})({\"dT0yW\":[function(require,module,exports,__globalThis) {\n//#region elements referents\n//#endregion\nvar _initializationJs = require(\"./initialization.js\");\nconst input = document.querySelector(\"#input\");\nconst btn = document.querySelector(\"#submit\");\nconst ul = document.querySelector(\"ul\");\nconst cat = document.querySelector(\"img\");\nconst signInBtn = document.querySelector(\"#signIn\");\nconst logOutBtn = document.querySelector(\"#logOut\");\nlet listDB;\n// Add logout functionality\nlogOutBtn.addEventListener(\"click\", async ()=>{\n    try {\n        await (0, _initializationJs.signOut)((0, _initializationJs.auth));\n        console.log(\"User signed out successfully\");\n    } catch (error) {\n        console.error(\"Error signing out:\", error);\n    }\n});\n(0, _initializationJs.onAuthStateChanged)((0, _initializationJs.auth), (user)=>{\n    if (user) {\n        console.log(\"User is signed in:\", user.uid);\n        successfullAuth(user.uid);\n    } else console.log(\"No user is signed in.\");\n});\nfunction successfullAuth(uid) {\n    listDB = (0, _initializationJs.ref)((0, _initializationJs.database), `list/${uid}`);\n    console.log(\"User is signed in:\", uid);\n    (0, _initializationJs.onValue)(listDB, (data)=>{\n        ul.innerHTML = \"\";\n        if (data.val()) {\n            const arr = Object.entries(data.val());\n            console.log(arr);\n            for (let [key, value] of arr)addItemsToUI(value, key);\n        }\n    });\n}\nfunction addItemToDB() {\n    const inputValue = input.value;\n    //(to the db) (val. of input)\n    (0, _initializationJs.push)(listDB, inputValue);\n    input.value = \"\";\n}\nbtn.addEventListener(\"click\", addItemToDB);\nfunction addItemsToUI(inputValue, key) {\n    const li = document.createElement(\"li\");\n    li.innerText = inputValue;\n    li.addEventListener(\"click\", ()=>{\n        let itemInDB = (0, _initializationJs.ref)((0, _initializationJs.database), `list/${(0, _initializationJs.auth).currentUser.uid}/${key}`);\n        (0, _initializationJs.remove)(itemInDB);\n    });\n    ul.appendChild(li);\n}\n\n},{\"./initialization.js\":\"vw3sS\"}]},[\"dT0yW\"], \"dT0yW\", \"parcelRequire94c2\", {})\n\n//# sourceMappingURL=17-prova-refactor-laspesaconmini.0eee7668.js.map\n","//#region elements referents\nconst input = document.querySelector(\"#input\");\nconst btn = document.querySelector(\"#submit\");\nconst ul = document.querySelector(\"ul\");\nconst cat = document.querySelector(\"img\");\nconst signInBtn = document.querySelector(\"#signIn\");\nconst logOutBtn = document.querySelector(\"#logOut\");\n//#endregion\nimport {\n  database,\n  ref,\n  signOut,\n  auth,\n  onValue,\n  remove,\n  onAuthStateChanged,\n  push,\n} from \"./initialization.js\";\nlet listDB;\n\n// Add logout functionality\nlogOutBtn.addEventListener(\"click\", async () => {\n  try {\n    await signOut(auth);\n    console.log(\"User signed out successfully\");\n  } catch (error) {\n    console.error(\"Error signing out:\", error);\n  }\n});\n\nonAuthStateChanged(auth, (user) => {\n  if (user) {\n    console.log(\"User is signed in:\", user.uid);\n    successfullAuth(user.uid);\n  } else {\n    console.log(\"No user is signed in.\");\n  }\n});\n\nfunction successfullAuth(uid) {\n  listDB = ref(database, `list/${uid}`);\n  console.log(\"User is signed in:\", uid);\n  onValue(listDB, (data) => {\n    ul.innerHTML = \"\";\n    if (data.val()) {\n      const arr = Object.entries(data.val());\n      console.log(arr);\n      for (let [key, value] of arr) {\n        addItemsToUI(value, key);\n      }\n    }\n  });\n}\nfunction addItemToDB() {\n  const inputValue = input.value;\n\n  //(to the db) (val. of input)\n  push(listDB, inputValue);\n\n  input.value = \"\";\n}\n\nbtn.addEventListener(\"click\", addItemToDB);\n\nfunction addItemsToUI(inputValue, key) {\n  const li = document.createElement(\"li\");\n  li.innerText = inputValue;\n  li.addEventListener(\"click\", () => {\n    let itemInDB = ref(database, `list/${auth.currentUser.uid}/${key}`);\n    remove(itemInDB);\n  });\n  ul.appendChild(li);\n}\n"],"names":["modules","entry","mainEntry","parcelRequireName","externals","distDir","publicUrl","devServer","globalObject","globalThis","self","window","global","previousRequire","importMap","i","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","length","mainExports","define","amd","__globalThis","listDB","_initializationJs","input","document","querySelector","btn","ul","logOutBtn","addEventListener","signOut","auth","console","log","error","onAuthStateChanged","user","uid","ref","database","onValue","data","innerHTML","val","arr","entries","key","value","addItemsToUI","inputValue","li","createElement","innerText","itemInDB","currentUser","remove","appendChild","push"],"version":3,"file":"17-prova-refactor-laspesaconmini.0eee7668.js.map"}